<script>
  class PostsList extends HTMLElement {
    constructor() {
      super();

      const shadow = this.attachShadow({ mode: 'open' })
      const wrapper = this.render();
      const styles = this.styles();

      shadow.appendChild(wrapper);
      shadow.appendChild(styles);
    }

    renderMsg() {
      const msg = document.createElement('span')
      msg.innerHTML = `hello from micro-frontend A!`
      return msg;
    }

    renderBtn(msg = 'ðŸ˜Ž') {
      const btn = document.createElement('button')
      btn.onclick = () => console.log(msg)
      btn.innerHTML = `click me! ðŸŽ‰`
      return btn
    }

    render() {
      const wrapper = document.createElement('div')

      wrapper.className = 'container'
      wrapper.append(this.renderMsg())
      wrapper.append(this.renderBtn())
      
      return wrapper;
    }

    styles() {
      const style = document.createElement('style');

      style.textContent = `
        .container {
          background: #e91e63;
          color: white;
          padding: 1rem;
          display: flex;
          justify-content: space-between;
        }
      `;

      return style;
    }
  }

  customElements.define('a-posts', PostsList)
</script>